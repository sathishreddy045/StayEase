{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\s\\\\Hotel Booking Project\\\\frontend\\\\src\\\\component\\\\booking_rooms\\\\AllRoomsPage.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport ApiService from '../../service/ApiService';\nimport Pagination from '../common/Pagination';\nimport RoomResult from '../common/RoomResult';\nimport RoomSearch from '../common/RoomSearch';\nconst AllRoomsPage = () => {\n  const [rooms, setRooms] = useState([]);\n  const [filteredRooms, setFilteredRooms] = useState([]);\n  const [roomTypes, setRoomTypes] = useState([]);\n  const [selectedRoomType, setSelectedRoomType] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [roomsPerPage] = useState(5);\n\n  // Function to handle search results\n  const handleSearchResult = results => {\n    setRooms(results);\n    setFilteredRooms(results);\n  };\n  useEffect(() => {\n    const fetchRooms = async () => {\n      try {\n        const response = await ApiService.getAllRooms();\n        const allRooms = response.roomList;\n        setRooms(allRooms);\n        setFilteredRooms(allRooms);\n      } catch (error) {\n        console.error('Error fetching rooms:', error.message);\n      }\n    };\n    const fetchRoomTypes = async () => {\n      try {\n        const types = await ApiService.getRoomTypes();\n        setRoomTypes(types);\n      } catch (error) {\n        console.error('Error fetching room types:', error.message);\n      }\n    };\n    fetchRooms();\n    fetchRoomTypes();\n  }, []);\n  const handleRoomTypeChange = e => {\n    setSelectedRoomType(e.target.value);\n    filterRooms(e.target.value);\n  };\n  const filterRooms = type => {\n    if (type === '') {\n      setFilteredRooms(rooms);\n    } else {\n      const filtered = rooms.filter(room => room.roomType === type);\n      setFilteredRooms(filtered);\n    }\n    setCurrentPage(1); // Reset to first page after filtering\n  };\n\n  // Pagination\n  const indexOfLastRoom = currentPage * roomsPerPage;\n  const indexOfFirstRoom = indexOfLastRoom - roomsPerPage;\n  const currentRooms = filteredRooms.slice(indexOfFirstRoom, indexOfLastRoom);\n\n  // Change page\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"all-rooms\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, \"All Rooms\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"all-room-filter-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \"Filter by Room Type:\"), /*#__PURE__*/React.createElement(\"select\", {\n    value: selectedRoomType,\n    onChange: handleRoomTypeChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, \"All\"), roomTypes.map(type => /*#__PURE__*/React.createElement(\"option\", {\n    key: type,\n    value: type,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, type)))), /*#__PURE__*/React.createElement(RoomSearch, {\n    handleSearchResult: handleSearchResult,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(RoomResult, {\n    roomSearchResults: currentRooms,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Pagination, {\n    roomsPerPage: roomsPerPage,\n    totalRooms: filteredRooms.length,\n    currentPage: currentPage,\n    paginate: paginate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }));\n};\nexport default AllRoomsPage;","map":{"version":3,"names":["React","useState","useEffect","ApiService","Pagination","RoomResult","RoomSearch","AllRoomsPage","rooms","setRooms","filteredRooms","setFilteredRooms","roomTypes","setRoomTypes","selectedRoomType","setSelectedRoomType","currentPage","setCurrentPage","roomsPerPage","handleSearchResult","results","fetchRooms","response","getAllRooms","allRooms","roomList","error","console","message","fetchRoomTypes","types","getRoomTypes","handleRoomTypeChange","e","target","value","filterRooms","type","filtered","filter","room","roomType","indexOfLastRoom","indexOfFirstRoom","currentRooms","slice","paginate","pageNumber","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onChange","map","key","roomSearchResults","totalRooms","length"],"sources":["C:/Users/s/Hotel Booking Project/frontend/src/component/booking_rooms/AllRoomsPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ApiService from '../../service/ApiService';\nimport Pagination from '../common/Pagination';\nimport RoomResult from '../common/RoomResult';\nimport RoomSearch from '../common/RoomSearch';\n\n\n\nconst AllRoomsPage = () => {\n  const [rooms, setRooms] = useState([]);\n  const [filteredRooms, setFilteredRooms] = useState([]);\n  const [roomTypes, setRoomTypes] = useState([]);\n  const [selectedRoomType, setSelectedRoomType] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [roomsPerPage] = useState(5);\n\n  // Function to handle search results\n  const handleSearchResult = (results) => {\n    setRooms(results);\n    setFilteredRooms(results);\n  };\n\n\n  useEffect(() => {\n    const fetchRooms = async () => {\n      try {\n        const response = await ApiService.getAllRooms();\n        const allRooms = response.roomList;\n        setRooms(allRooms);\n        setFilteredRooms(allRooms);\n      } catch (error) {\n        console.error('Error fetching rooms:', error.message);\n      }\n    };\n\n    const fetchRoomTypes = async () => {\n      try {\n        const types = await ApiService.getRoomTypes();\n        setRoomTypes(types);\n      } catch (error) {\n        console.error('Error fetching room types:', error.message);\n      }\n    };\n\n    fetchRooms();\n    fetchRoomTypes();\n  }, []);\n\n  const handleRoomTypeChange = (e) => {\n    setSelectedRoomType(e.target.value);\n    filterRooms(e.target.value);\n  };\n\n  const filterRooms = (type) => {\n    if (type === '') {\n      setFilteredRooms(rooms);\n    } else {\n      const filtered = rooms.filter((room) => room.roomType === type);\n      setFilteredRooms(filtered);\n    }\n    setCurrentPage(1); // Reset to first page after filtering\n  };\n\n  // Pagination\n  const indexOfLastRoom = currentPage * roomsPerPage;\n  const indexOfFirstRoom = indexOfLastRoom - roomsPerPage;\n  const currentRooms = filteredRooms.slice(indexOfFirstRoom, indexOfLastRoom);\n\n  // Change page\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\n\n  return (\n    <div className='all-rooms'>\n      <h2>All Rooms</h2>\n      <div className='all-room-filter-div'>\n        <label>Filter by Room Type:</label>\n        <select value={selectedRoomType} onChange={handleRoomTypeChange}>\n          <option value=\"\">All</option>\n          {roomTypes.map((type) => (\n            <option key={type} value={type}>\n              {type}\n            </option>\n          ))}\n        </select>\n      </div>\n      \n      <RoomSearch handleSearchResult={handleSearchResult} />\n      <RoomResult roomSearchResults={currentRooms} />\n\n      <Pagination\n        roomsPerPage={roomsPerPage}\n        totalRooms={filteredRooms.length}\n        currentPage={currentPage}\n        paginate={paginate}\n      />\n    </div>\n  );\n};\n\nexport default AllRoomsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}